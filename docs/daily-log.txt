Monday, 13 May 2019
on willem@willem-Latitude-5590

Today we tested the com.packtpub.book.ch03.springsecurity:spring-boot-ldap-basic-authentication:1.0-SNAPSHOT application
and read that part of chapter 3.
We will tweak theexample to be a little more elaborate
(see also
/media/willem/Blue Seagate Backup Plus Drive/Backups/ne72pg@WPU8L0011276.ad.ing.net/Resources/git/gitlab/FENIKS-FLOW/
feniks-flow-application/src/main/resources/config/application-local.properties and
/media/willem/Blue Seagate Backup Plus Drive/Backups/ne72pg@WPU8L0011276.ad.ing.net/Resources/git/gitlab/FENIKS-FLOW/
feniks-flow-application/src/main/java/nl/ing/lending/feniksflow/config/security/WebSecurityConfig.java
========================================================================================================================
Sunday, 12 May 2019
on willem@willem-Latitude-5590

Trying out the remainder of chapter 2
The jetty-in-memory-basic-authentication works as is, but the spring-boot-in-memory-basic-authentication is not finished
yet and the book states it works when you add the @SpringBootApplication annotated example class
com.packtpub.book.ch02.springsecurity.Run with its special main() implementation to the previous example. This, however,
is not really clear as you would have a lot of unnecessary classes in the com.packtpub.book.ch02.springsecurity.config
package. The whole point is that a lot of default configuration code is encapsulated from you and extra configurations
are usually set as properties inside application.properties.
This properties file is already present and contains:
    spring.mvc.view.prefix: /WEB-INF/views/
    spring.mvc.view.suffix: .jsp
which replaces info previously configured by
com.packtpub.book.ch02.springsecurity.config.WebApplicationConfig.configureViewResolvers.
Moreover,
    com.packtpub.book.ch02.springsecurity.config.SpringMvcWebApplicationInitializer and
    com.packtpub.book.ch02.springsecurity.config.SecurityWebApplicationInitializer
appear to be unnecessary in the SpringBoot application.
Finally, we would only need the extra
    com.packtpub.book.ch02.springsecurity.config.ApplicationConfig
if we needed a special factory method (with the @Bean annotation), that is, if we deviated by the defaults provided
by SpringBoot, which can configure a lot of default components just by adding a view properties to application.properties

Therefore, it turns out that besides the new
    com.packtpub.book.ch02.springsecurity.Run
We only have to copy
    src/main/webapp/WEB-INF/views/home.jsp,
    com.packtpub.book.ch02.springsecurity.controller.HomeController and
    com.packtpub.book.ch02.springsecurity.config.SpringSecurityConfig

Thus, after running mvn clean package and then mvn spring-boot:run we could test the basic authentication from the browser
after choosing http://localhost:8080.

Tweaking com.packtpub.book.ch02.springsecurity.config.SpringSecurityConfig.configure(
org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder) substituting
adminBoot for admin as user and "{noop}adminBoot@password" as password we tested that these changes compelled
the user/tester of the browser to provide these new credentials.
========================================================================================================================
Saturday, 04 May 2019
on willem@willem-Latitude-5590

We tweaked the Chapter02/jetty-db-basic-authentication/ example using postgreSQL as a database
1)  Preparing the database with ddl_postgreSQL/postgres_prepare_for_spring_security_schema.sql connected as postgres
    1.1)    adding new roles:
            spring_security_owner capable to login and to run schema ddl
            spring_security_crud_role to grant privileges per db object within ddl
            spring_security_read_role to grant privileges per db object within ddl
            spring_security_app capable to log in and granted spring_security_crud_role
    1.2)    creating spring_security_schema authorizing spring_security_owner as the owner
    1.3)    granting usage of spring_security_schema to both spring_security_crud_role and spring_security_read_role
2)  Running ddl_postgreSQL/spring_security_schema_definition.sql connected as spring_security_owner
    Creating the tables and granting privileges to spring_security_crud_role and spring_security_read_role respectively
3)  Running ddl_postgreSQL/spring_security_inserts.sql connected as spring_security_app.
4)  postgreSQLdb.properties added.
5)  com.packtpub.book.ch02.springsecurity.config.ApplicationConfig#getDataSource modified to use the postgres configurations
6)  adding the postgres jdbc driver dependency to Chapter02/jetty-db-basic-authentication/pom.xml
7)  We created com.packtpub.book.ch02.springsecurity.PostgresConnectionIT to locally test the connection and query the schema.
    Beware that this test will only work if the environment was carefully prepared with a Postgres DB installed plus
    all the six steps described above. So it is more of an environment test than a source code test.
    Therefore, by using the IT suffix instead of Test this test will be ignored by the maven surefire plugin during
    builds so these builds will succeed regardless of the environment.
    The test was successful so the environment was configured correctly.
8)  After a maven clean package we used jetty:run to start the application
    connecting the browser to http://localhost:8080 prompted for basic authentication and both username/password
    combinations were successful:
        User = admin    and password = admin@password
        User = user     and password = user@password


========================================================================================================================
Saturday, 04 May 2019
on willem@willem-Latitude-5590
Well under way in chapter 2 recreating the Sample application from page 47 onwards until page 60.
Implementing all source code under com.packtpub.book.ch02.springsecurity:jetty-db-basic-authentication:1.0-SNAPSHOT.

To get it running with a database we will tweak the example to run it on PostgreSQL.
========================================================================================================================
Saturday, 27 April 2019
on willem@willem-Latitude-5590
Set up this git repository for code examples accompanying
https://www.packtpub.com/application-development/hands-spring-security-5-reactive-applications by forking
https://github.com/PacktPublishing/Hands-On-Spring-Security-5-for-Reactive-Applications to
https://github.com/wjc-van-es/Hands-On-Spring-Security-5-for-Reactive-Applications

(Not yet with BitBucket)
The projects from chapter 2 and 3 could be built with mvn clean install against jdk1.8.0_202 (from Oracle)